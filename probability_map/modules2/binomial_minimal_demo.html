<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Binomial(n, p) Distribution — Minimal Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <style>
    :root{
      --bg:#f5f7f9; --panel:#ffffff; --ink:#111; --muted:#555;
      --border:#d4d4d4; --accent:#1f7a8c;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font:15px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Arial;
      color:var(--ink);
      background:var(--bg);
    }
    header{
      padding:10px 18px;
      background:#045275;
      color:#fff;
      font-size:18px;
      font-weight:600;
    }
    .wrap{
      max-width:1100px;
      margin:16px auto;
      padding:0 16px;
      display:flex;
      gap:16px;
    }
    #info-card{
      flex:0 0 320px;
      background:var(--panel);
      border:1px solid var(--border);
      border-radius:10px;
      padding:12px 16px;
    }
    #info-card h2{
      margin:0 0 6px 0;
      font-size:18px;
    }
    #info-card p{margin:6px 0;}
    #info-card table{
      border-collapse:collapse;
      width:100%;
      margin:6px 0 8px 0;
      font-size:13px;
    }
    #info-card th,#info-card td{
      border:1px solid var(--border);
      padding:4px 6px;
      text-align:left;
    }
    #info-card th{
      background:#f0f0f0;
      font-weight:600;
    }
    #chart-panel{
      flex:1;
      background:var(--panel);
      border:1px solid var(--border);
      border-radius:10px;
      padding:12px 16px;
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    #controls{
      display:flex;
      flex-wrap:wrap;
      align-items:center;
      gap:10px;
      font-size:14px;
    }
    #controls label{font-weight:600;}
    #controls input[type="number"]{
      width:70px;
      padding:4px 6px;
      border-radius:6px;
      border:1px solid var(--border);
    }
    #controls input[type="range"]{width:160px;}
    #controls span.muted{color:var(--muted); font-size:13px;}
    canvas{
      max-width:100%;
      background:#f7f7f7;
      border-radius:8px;
    }
    footer{
      max-width:1100px;
      margin:8px auto 18px auto;
      padding:0 16px;
      color:var(--muted);
      font-size:13px;
    }
    @media (max-width:900px){
      .wrap{flex-direction:column;}
      #info-card{flex:1 1 auto;}
    }
  </style>
  <!-- Chart.js from CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<header>Probability Playground (Lite): Binomial(n, p) Distribution</header>

<div class="wrap">
  <section id="info-card">
    <h2>Binomial(n, p)</h2>
    <p>
      The binomial distribution arises when we perform <strong>n</strong> independent
      Bernoulli trials, each with success probability <strong>p</strong>. The random
      variable <strong>X</strong> counts the number of successes.
    </p>
    <table>
      <thead>
        <tr><th>Parameter</th><th>Range</th><th>Description</th></tr>
      </thead>
      <tbody>
        <tr><td>n</td><td>1, 2, 3, …</td><td>Number of trials</td></tr>
        <tr><td>p</td><td>0 ≤ p ≤ 1</td><td>Probability of success</td></tr>
      </tbody>
    </table>
    <p><strong>Probability mass function</strong></p>
    <p style="font-family: 'Times New Roman',serif; font-size:14px;">
      P(X = k) = C(n,k) p<sup>k</sup> (1 − p)<sup>n−k</sup>, &nbsp; k = 0,1,…,n
    </p>
    <p><strong>Support</strong>: k ∈ {0, 1, …, n}</p>
    <p><strong>Mean</strong>: E[X] = n p</p>
    <p><strong>Variance</strong>: Var(X) = n p (1 − p)</p>
  </section>

  <section id="chart-panel">
    <div id="controls">
      <label for="nInput">n =</label>
      <input id="nInput" type="number" min="1" max="100" value="10" />
      <label for="pInput">p =</label>
      <input id="pInput" type="range" min="0" max="1" step="0.01" value="0.50" />
      <span id="pDisplay">0.50</span>
      <span class="muted">(drag slider to change p)</span>
    </div>
    <div>
      <canvas id="pmfChart" height="260"></canvas>
    </div>
  </section>
</div>

<footer>
  Minimal standalone demo inspired by the UB “Probability Playground: Binomial Distribution” page.
  You can open this file directly in a browser; it uses Chart.js from a CDN for the bar chart.
</footer>

<script>
// --- math helpers ---
function binomCoeff(n,k){
  if(k<0||k>n) return 0;
  if(k===0||k===n) return 1;
  let res=1;
  for(let i=1;i<=k;i++){
    res *= (n+1-i);
    res /= i;
  }
  return res;
}
function binomPMF(n,p){
  const arr=[];
  for(let k=0;k<=n;k++){
    arr.push(binomCoeff(n,k)*Math.pow(p,k)*Math.pow(1-p,n-k));
  }
  return arr;
}

// --- chart setup ---
const nInput = document.getElementById('nInput');
const pInput = document.getElementById('pInput');
const pDisplay = document.getElementById('pDisplay');
const ctx = document.getElementById('pmfChart').getContext('2d');

function buildLabels(n){ return Array.from({length:n+1},(_,i)=>i); }

let n = parseInt(nInput.value,10);
let p = parseFloat(pInput.value);
let chart = new Chart(ctx,{
  type:'bar',
  data:{
    labels: buildLabels(n),
    datasets:[{
      label:'P(X = k)',
      data: binomPMF(n,p),
      backgroundColor:'rgba(31,122,140,0.6)',
      borderColor:'rgba(31,122,140,1)',
      borderWidth:1
    }]
  },
  options:{
    responsive:true,
    maintainAspectRatio:false,
    scales:{
      x:{ title:{display:true,text:'k (number of successes)'} },
      y:{ beginAtZero:true, max:1, title:{display:true,text:'P(X = k)'} }
    },
    plugins:{ legend:{display:false} }
  }
});

function updateChart(){
  n = parseInt(nInput.value,10);
  if(!Number.isFinite(n) || n<1) n=1;
  if(n>100) n=100;
  nInput.value = n;
  p = parseFloat(pInput.value);
  if(!Number.isFinite(p)) p=0.5;
  pDisplay.textContent = p.toFixed(2);
  chart.data.labels = buildLabels(n);
  chart.data.datasets[0].data = binomPMF(n,p);
  chart.update();
}

nInput.addEventListener('input', updateChart);
pInput.addEventListener('input', updateChart);

// initial render
updateChart();
</script>

</body>
</html>
